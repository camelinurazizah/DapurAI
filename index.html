<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>DapurAI ‚Äî Generator Resep Pintar</title>
    <style>
      :root {
        --bg: #fff6ed;
        --card: #fff;
        --accent: #f858a8;
        --accent-light: #f9a8d4;
        --accent-dark: #fa559f;
        --muted: #6b6b6b;
        --shadow: 0 6px 18px rgba(23, 23, 23, 0.08);
        font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        background: linear-gradient(180deg, var(--bg), #fff8f0);
        color: #2a2a2a;
        scroll-behavior: smooth;
        overflow-x: hidden; /* Mencegah scroll horizontal */
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 28px 6%;
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(8px);
        box-shadow: var(--shadow);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .logo {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .logo img {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        object-fit: cover;
        box-shadow: var(--shadow);
      }

      .logo-text .title {
        font-weight: 800;
        font-size: 22px;
        color: var(--accent);
      }

      .logo-text .subtitle {
        font-size: 12px;
        color: var(--muted);
      }

      .pot {
        width: 48px;
        height: 48px;
        background: var(--accent);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-weight: 700;
      }

      nav {
        display: flex;
      }

      nav a {
        margin-left: 18px;
        text-decoration: none;
        color: inherit;
        font-weight: 600;
        transition: color 0.2s;
      }

      nav a:hover {
        color: var(--accent);
      }

      /* Hamburger Menu Styles */
      .hamburger-menu {
        display: none;
        flex-direction: column;
        justify-content: space-between;
        width: 30px;
        height: 21px;
        cursor: pointer;
        z-index: 1000;
      }

      .hamburger-menu span {
        display: block;
        height: 3px;
        width: 100%;
        background-color: var(--accent);
        border-radius: 10px;
        transition: all 0.3s ease;
      }

      .hamburger-menu.active span:nth-child(1) {
        transform: translateY(9px) rotate(45deg);
      }

      .hamburger-menu.active span:nth-child(2) {
        opacity: 0;
      }

      .hamburger-menu.active span:nth-child(3) {
        transform: translateY(-9px) rotate(-45deg);
      }

      .sidebar {
        position: fixed;
        top: 0;
        right: -300px;
        width: 300px;
        height: 100%;
        background-color: var(--card);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
        transition: right 0.3s ease;
        z-index: 999;
        padding: 80px 30px 30px;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .sidebar.active {
        right: 0;
      }

      .sidebar a {
        text-decoration: none;
        color: var(--muted);
        font-weight: 600;
        font-size: 18px;
        padding: 10px 0;
        border-bottom: 1px solid #f0f0f0;
        transition: color 0.2s;
      }

      .sidebar a:hover {
        color: var(--accent);
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 998;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease;
      }

      .overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 20px 6%;
        /* PERBAIKAN: Menambahkan padding yang lebih kecil untuk mobile */
        padding-left: 20px;
        padding-right: 20px;
      }

      .hero {
        display: flex;
        gap: 36px;
        align-items: center;
        flex-wrap: wrap;
      }

      .hero-left {
        flex: 1;
        min-width: 300px;
      }

      h1 {
        font-size: 44px;
        margin: 0 0 18px 0;
        line-height: 1.05;
      }

      p.lead {
        margin: 0 0 22px 0;
        color: var(--muted);
      }

      .search-card {
        background: var(--card);
        padding: 18px;
        border-radius: 14px;
        box-shadow: var(--shadow);
        display: flex;
        gap: 12px;
        align-items: center;
        flex-wrap: wrap;
      }

      input[type='text'],
      select {
        flex: 1;
        padding: 14px;
        border-radius: 10px;
        border: 1px solid #efe3d6;
        font-size: 16px;
        /* PERBAIKAN: Mencegah input melebihi container */
        min-width: 0;
      }

      button.primary {
        background: var(--accent);
        color: #fff;
        padding: 12px 20px;
        border-radius: 10px;
        border: none;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      button.primary:hover {
        background: var(--accent-dark);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(248, 88, 168, 0.3);
      }

      .cta {
        display: inline-block;
        margin-top: 18px;
        padding: 14px 20px;
        border-radius: 12px;
        background: linear-gradient(90deg, var(--accent), var(--accent-dark));
        color: #fff;
        font-weight: 700;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(248, 88, 168, 0.3);
      }

      .hero-right {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .illustr {
        /* PERUBAHAN: Ukuran gambar koki wanita diperbesar */
        width: 450px;
        height: 450px;
        border-radius: 24px;
        background: linear-gradient(180deg, #ffe9c9, #ffd9aa);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow);
        overflow: hidden;
        transition: transform 0.3s ease;
      }

      .illustr:hover {
        transform: scale(1.03);
      }

      .illustr img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 24px;
      }

      .features {
        display: flex;
        gap: 18px;
        margin-top: 26px;
        flex-wrap: wrap;
      }

      .feature {
        background: var(--card);
        padding: 14px;
        border-radius: 12px;
        flex: 1;
        box-shadow: var(--shadow);
        min-width: 180px;
      }

      .result {
        margin-top: 26px;
        background: var(--card);
        padding: 18px;
        border-radius: 12px;
        box-shadow: var(--shadow);
      }

      .result h3 {
        margin: 0 0 8px 0;
      }

      .meta {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 12px;
      }

      .ing-list {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .ing {
        background: #fff6f0;
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px dashed #ffd6a5;
      }

      .controls {
        display: flex;
        gap: 8px;
        margin-top: 14px;
      }

      .small {
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid #eee;
        background: #fff;
        cursor: pointer;
      }

      /* === SECTION TENTANG DAPURAI (DIUBAH) === */
      #tentang {
        background: var(--card);
        margin-top: 60px;
        padding: 40px;
        border-radius: 24px;
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
      }

      #tentang::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 6px;
        background: linear-gradient(90deg, var(--accent), var(--accent-light));
      }

      #tentang h2 {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 28px;
        margin-bottom: 24px;
        color: var(--accent);
      }

      #tentang h2::before {
        content: 'üç≥';
        font-size: 32px;
      }

      #tentang p {
        text-align: justify;
        line-height: 1.7;
        margin-bottom: 20px;
        font-size: 16px;
        position: relative;
        padding-left: 20px;
      }

      #tentang p::before {
        content: '';
        position: absolute;
        left: 0;
        top: 8px;
        height: 12px;
        width: 12px;
        background-color: var(--accent);
        border-radius: 50%;
        opacity: 0.7;
      }

      #tentang ul {
        margin-top: 20px;
        list-style: none;
        padding-left: 0;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 16px;
      }

      #tentang ul li {
        margin-bottom: 12px;
        padding: 14px 16px;
        background: #fffaf0;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      #tentang ul li:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      }

      #tentang ul li::before {
        content: '';
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background-color: var(--accent);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 14px;
        flex-shrink: 0;
      }

      #tentang ul li:nth-child(1)::before {
        content: 'üí°';
      }
      #tentang ul li:nth-child(2)::before {
        content: '‚è±Ô∏è';
      }
      #tentang ul li:nth-child(3)::before {
        content: 'üå±';
      }
      #tentang ul li:nth-child(4)::before {
        content: 'üç≤';
      }
      #tentang ul li:nth-child(5)::before {
        content: 'ü§ñ';
      }

      /* === SECTION KONTAK === */
      #kontak {
        margin-top: 60px;
        background: var(--card);
        padding: 30px 28px;
        border-radius: 16px;
        box-shadow: var(--shadow);
      }

      #kontak h2 {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 22px;
      }

      #kontak form {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-top: 20px;
      }

      #kontak input,
      #kontak textarea {
        padding: 14px;
        border-radius: 10px;
        border: 1px solid #efe3d6;
        font-size: 16px;
        font-family: inherit;
        /* PERBAIKAN: Mencegah input melebihi container */
        width: 100%;
      }

      #kontak textarea {
        resize: vertical;
        min-height: 100px;
      }

      /* === STYLE UNTUK ULASAN === */
      .review-item {
        background: #fffaf0;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 16px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        border-left: 4px solid var(--accent);
      }

      .review-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .review-name {
        font-weight: 700;
        color: var(--accent);
      }

      .review-date {
        font-size: 12px;
        color: var(--muted);
      }

      .review-message {
        line-height: 1.6;
        color: #2a2a2a;
      }

      .no-reviews {
        text-align: center;
        padding: 40px;
        color: var(--muted);
        font-style: italic;
      }

      footer {
        padding: 28px 6%;
        text-align: center;
        color: var(--muted);
        /* PERBAIKAN: Menambahkan padding yang lebih kecil untuk mobile */
        padding-left: 20px;
        padding-right: 20px;
      }

      /* PERBAIKAN: Media query untuk tablet dan mobile */
      @media (max-width: 900px) {
        .hero {
          flex-direction: column;
        }

        h1 {
          font-size: 55px;
          /* PERBAIKAN: Mengurangi ukuran font untuk tablet */
          font-size: 42px;
        }

        .illustr {
          /* PERUBAHAN: Ukuran gambar koki wanita untuk tablet */
          width: 380px;
          height: 380px;
        }

        #tentang ul {
          grid-template-columns: 1fr;
        }

        .review-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 5px;
        }

        /* PERBAIKAN: Menyesuaikan padding untuk tablet */
        .container {
          padding-left: 20px;
          padding-right: 20px;
        }

        header {
          padding: 20px;
        }

        footer {
          padding: 20px;
        }
      }

      @media (max-width: 768px) {
        nav {
          display: none;
        }

        .hamburger-menu {
          display: flex;
        }

        .illustr {
          /* PERUBAHAN: Ukuran gambar koki wanita untuk mobile */
          width: 340px;
          height: 340px;
        }

        /* PERBAIKAN: Menyesuaikan padding untuk mobile */
        .container {
          padding-left: 16px;
          padding-right: 16px;
        }

        header {
          padding: 16px;
        }

        footer {
          padding: 16px;
        }

        h1 {
          /* PERBAIKAN: Mengurangi ukuran font untuk mobile */
          font-size: 36px;
        }

        .search-card {
          /* PERBAIKAN: Mengatur layout search card untuk mobile */
          flex-direction: column;
          align-items: stretch;
        }

        .search-card input,
        .search-card select,
        .search-card button {
          width: 100%;
        }

        .features {
          /* PERBAIKAN: Mengatur layout features untuk mobile */
          flex-direction: column;
        }

        .feature {
          min-width: 100%;
        }

        #tentang {
          /* PERBAIKAN: Menyesuaikan padding untuk mobile */
          padding: 24px;
        }

        #kontak {
          /* PERBAIKAN: Menyesuaikan padding untuk mobile */
          padding: 24px 20px;
        }
      }

      /* PERBAIKAN: Media query untuk perangkat dengan layar sangat kecil */
      @media (max-width: 480px) {
        h1 {
          font-size: 32px;
        }

        .illustr {
          /* PERBAIKAN: Mengurangi ukuran gambar untuk perangkat kecil */
          width: 300px;
          height: 300px;
        }

        .container {
          padding-left: 12px;
          padding-right: 12px;
        }

        header {
          padding: 12px;
        }

        footer {
          padding: 12px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="logo1.png" alt="Logo DapurAI" />
        <div class="logo-text">
          <div class="title">DapurAI</div>
          <div class="subtitle">Generator Resep Pintar</div>
        </div>
      </div>

      <nav>
        <a href="#">Home</a>
        <a href="#generator">Generator</a>
        <a href="#tentang">Tentang</a>
        <a href="#kontak">Ulasan</a>
      </nav>

      <!-- Hamburger Menu -->
      <div class="hamburger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </header>

    <!-- Sidebar -->
    <div class="sidebar">
      <a href="#">Home</a>
      <a href="#generator">Generator</a>
      <a href="#tentang">Tentang</a>
      <a href="#kontak">Ulasan</a>
    </div>

    <!-- Overlay -->
    <div class="overlay"></div>

    <main class="container">
      <section class="hero">
        <div class="hero-left">
          <h1>Temukan Resep Pintar<br />Dari Bahan di Dapurmu!</h1>
          <p class="lead">Masukkan bahan yang kamu punya ‚Äî AI kami akan menyusun resep yang praktis, hemat, dan lezat.</p>

          <div class="search-card" id="generator">
            <input id="ingredients" type="text" placeholder="telur, nasi, ayam..." value="telur, nasi, kecap" />
            <select id="cuisine" aria-label="jenis masakan">
              <option value="indonesia">Masakan Sehat</option>
              <option value="asia">Masakan Bayi</option>
              <option value="western">Masakan Berat</option>
            </select>
            <button class="primary" id="generateBtn">Generate</button>
          </div>

          <a class="cta" href="#result" id="tryBtn">Coba Generator AI Sekarang ‚Üí</a>

          <div class="features">
            <div class="feature">
              <strong>Masakan Sehat</strong>
              <div style="color: var(--muted); font-size: 13px; margin-top: 6px">Resep rendah lemak dan bergizi tinggi untuk menjaga pola makan seimbang.</div>
            </div>
            <div class="feature">
              <strong>Masakan Bayi</strong>
              <div style="color: var(--muted); font-size: 13px; margin-top: 6px">Inspirasi makanan lembut dan bernutrisi tinggi untuk bayi usia 6 bulan ke atas.</div>
            </div>
            <div class="feature">
              <strong>Masakan Berat</strong>
              <div style="color: var(--muted); font-size: 13px; margin-top: 6px">Pilihan menu utama yang mengenyangkan seperti nasi goreng dan ayam bakar.</div>
            </div>
          </div>
        </div>

        <div class="hero-right">
          <div class="illustr" aria-hidden>
            <img src="dapurku.png" alt="Ilustrasi dapur AI" />
          </div>
        </div>
      </section>

      <section class="result" id="result">
        <h3 id="recipeTitle">Hasil resep akan muncul di sini</h3>
        <div class="meta" id="metaInfo">Masukkan bahan lalu klik <strong>Generate</strong>.</div>
        <div class="ing-list" id="ingredientsList"></div>
        <div style="margin-top: 12px" id="steps"></div>
        <div class="controls">
          <button class="small" id="saveFav">‚ù§Ô∏è Simpan</button>
          <button class="small" id="clearBtn">üßπ Bersihkan</button>
        </div>
      </section>

      <!-- === SECTION TENTANG DAPURAI (DIUBAH) === -->
      <section id="tentang">
        <h2>Tentang DapurAI</h2>
        <p>
          <strong>DapurAI</strong> adalah aplikasi website berbasis kecerdasan buatan (AI) yang membantu pengguna menemukan ide resep masakan dari bahan-bahan yang tersedia di dapur. Aplikasi ini
          dirancang untuk memberikan solusi cepat bagi siapa saja yang bingung ingin masak apa hari ini tanpa perlu membeli bahan tambahan.
        </p>
        <p>
          DapurAI hadir dengan teknologi cerdas yang dapat mengenali bahan-bahan sederhana seperti telur, nasi, ayam, atau sayur, dan secara otomatis menghasilkan resep yang praktis, lezat, serta
          sesuai selera. Dengan tampilan yang sederhana dan interaktif, pengguna cukup mengetik bahan yang ada, lalu DapurAI akan menampilkan resep yang dapat langsung dicoba di rumah.
        </p>
        <p>
          Tujuan utama dari DapurAI adalah untuk menghemat waktu memasak, mengurangi pemborosan bahan makanan, dan membantu masyarakat mengatur pola makan yang lebih sehat. Dengan memanfaatkan AI,
          aplikasi ini tidak hanya memberikan resep, tetapi juga memberikan inspirasi baru setiap hari agar memasak menjadi kegiatan yang menyenangkan.
        </p>
        <p>Selain itu, DapurAI juga bermanfaat bagi para pelajar, mahasiswa, dan ibu rumah tangga yang ingin berhemat namun tetap dapat menyajikan makanan bergizi.</p>

        <p><strong>Manfaat DapurAI:</strong></p>
        <ul>
          <li>Memberi inspirasi resep dari bahan sederhana</li>
          <li>Menghemat waktu dalam menentukan menu harian</li>
          <li>Membantu mengurangi food waste</li>
          <li>Mendorong gaya hidup sehat dengan resep seimbang</li>
          <li>Mengintegrasikan teknologi AI dalam dunia kuliner</li>
        </ul>
      </section>

      <section id="kontak">
        <h2>üìû Kontak & Ulasan Pengguna</h2>
        <p>Kirimkan saran dan pengalamanmu setelah menggunakan DapurAI üëá</p>

        <form id="reviewForm">
          <input type="text" id="nama" placeholder="Nama Anda" required />
          <input type="email" id="email" placeholder="Email Anda" required />
          <textarea id="pesan" rows="3" placeholder="Tulis ulasan Anda..." required></textarea>
          <button type="submit" class="primary">Kirim Ulasan</button>
        </form>

        <h3 style="margin-top: 30px">üß° Ulasan Terbaru</h3>
        <div id="reviewList"></div>
      </section>
    </main>

    <footer>¬©2025 DapurAI ‚Äî Camelia Nurazizah ‚Äî Generator Resep Pintar</footer>

    <script>
      const generateBtn = document.getElementById('generateBtn');
      const tryBtn = document.getElementById('tryBtn');
      const ingredientsInput = document.getElementById('ingredients');
      const recipeTitle = document.getElementById('recipeTitle');
      const metaInfo = document.getElementById('metaInfo');
      const ingredientsList = document.getElementById('ingredientsList');
      const stepsEl = document.getElementById('steps');
      const saveFav = document.getElementById('saveFav');
      const clearBtn = document.getElementById('clearBtn');
      const reviewForm = document.getElementById('reviewForm');
      const reviewList = document.getElementById('reviewList');

      // Hamburger menu elements
      const hamburgerMenu = document.querySelector('.hamburger-menu');
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.querySelector('.overlay');

      // Fungsi untuk toggle sidebar
      function toggleSidebar() {
        hamburgerMenu.classList.toggle('active');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
        document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : '';
      }

      // Event listener untuk hamburger menu
      hamburgerMenu.addEventListener('click', toggleSidebar);

      // Event listener untuk overlay
      overlay.addEventListener('click', toggleSidebar);

      // Event listener untuk link di sidebar
      sidebar.querySelectorAll('a').forEach((link) => {
        link.addEventListener('click', () => {
          toggleSidebar();
        });
      });

      // Fungsi untuk memuat ulasan dari localStorage
      function loadReviews() {
        try {
          return JSON.parse(localStorage.getItem('dapurai_reviews') || '[]');
        } catch (e) {
          return [];
        }
      }

      // Fungsi untuk menyimpan ulasan ke localStorage
      function saveReviews(reviews) {
        localStorage.setItem('dapurai_reviews', JSON.stringify(reviews));
      }

      // Fungsi untuk menampilkan ulasan
      function displayReviews() {
        const reviews = loadReviews();
        reviewList.innerHTML = '';

        if (reviews.length === 0) {
          reviewList.innerHTML = '<div class="no-reviews">Belum ada ulasan. Jadilah yang pertama memberikan ulasan!</div>';
          return;
        }

        // Urutkan ulasan dari yang terbaru
        reviews.sort((a, b) => new Date(b.date) - new Date(a.date));

        reviews.forEach((review) => {
          const reviewItem = document.createElement('div');
          reviewItem.className = 'review-item';

          const date = new Date(review.date).toLocaleDateString('id-ID', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
          });

          reviewItem.innerHTML = `
            <div class="review-header">
              <div class="review-name">${review.name}</div>
              <div class="review-date">${date}</div>
            </div>
            <div class="review-message">${review.message}</div>
          `;

          reviewList.appendChild(reviewItem);
        });
      }

      // Fungsi untuk menangani pengiriman ulasan
      function handleReviewSubmit(e) {
        e.preventDefault();

        const name = document.getElementById('nama').value;
        const email = document.getElementById('email').value;
        const message = document.getElementById('pesan').value;

        const newReview = {
          name,
          email,
          message,
          date: new Date().toISOString(),
        };

        const reviews = loadReviews();
        reviews.push(newReview);
        saveReviews(reviews);

        // Reset form
        reviewForm.reset();

        // Tampilkan ulasan terbaru
        displayReviews();

        // Tampilkan pesan sukses
        alert('Terima kasih! Ulasan Anda telah berhasil dikirim.');
      }

      function normalizeList(text) {
        return text
          .split(',')
          .map((s) => s.trim())
          .filter(Boolean);
      }

      function estimateTime(count) {
        return 10 + count * 3;
      }

      function estimateCalories(count) {
        return Math.max(120, Math.round(count * 170));
      }

      function makeRecipe(ings, cuisine) {
        const main = ings[0] || 'Beragam bahan';
        const suffix = ['Gurih', 'Pedas', 'Lezat', 'Simple', 'Istimewa', 'Rumahan'];
        const name = `${main.charAt(0).toUpperCase() + main.slice(1)} ${suffix[Math.floor(Math.random() * suffix.length)]}`;

        const time = estimateTime(ings.length);
        const cal = estimateCalories(ings.length);
        const ingredientsHtml = ings.map((i) => `<div class="ing">${i}</div>`).join('');

        const steps = [];
        steps.push(`Siapkan semua bahan: ${ings.join(', ')}.`);
        if (ings.includes('telur')) steps.push('Kocok telur jika diperlukan, lalu goreng/masak sesuai resep.');
        if (ings.includes('nasi')) steps.push('Panaskan nasi, lalu tumis bersama bumbu.');
        steps.push('Masak semua bahan dengan api sedang hingga matang dan bumbu meresap.');
        steps.push('Cicipi dan sesuaikan garam atau gula. Sajikan hangat.');

        return { name, time, cal, ingredientsHtml, steps };
      }

      function showRecipe(obj) {
        recipeTitle.textContent = obj.name;
        metaInfo.innerHTML = `Estimasi waktu: <strong>${obj.time} menit</strong> ¬∑ Perkiraan kalori: <strong>${obj.cal} kkal</strong>`;
        ingredientsList.innerHTML = obj.ingredientsHtml;
        stepsEl.innerHTML = `<ol>${obj.steps.map((s) => `<li style="margin-bottom:6px">${s}</li>`).join('')}</ol>`;

        // Scroll ke bagian ingredients
        setTimeout(() => {
          document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }, 100);
      }

      generateBtn.addEventListener('click', () => {
        const text = ingredientsInput.value;
        const cuisine = document.getElementById('cuisine').value;
        const ings = normalizeList(text);
        if (ings.length === 0) {
          alert('Masukkan minimal satu bahan. Contoh: telur, nasi, ayam');
          return;
        }
        const recipe = makeRecipe(ings, cuisine);
        showRecipe(recipe);
      });

      tryBtn.addEventListener('click', () => {
        document.getElementById('generator').scrollIntoView({ behavior: 'smooth' });
      });

      clearBtn.addEventListener('click', () => {
        ingredientsInput.value = '';
        recipeTitle.textContent = 'Hasil resep akan muncul di sini';
        metaInfo.textContent = 'Masukkan bahan lalu klik Generate.';
        ingredientsList.innerHTML = '';
        stepsEl.innerHTML = '';
      });

      function getFavs() {
        try {
          return JSON.parse(localStorage.getItem('dapurai_favs') || '[]');
        } catch (e) {
          return [];
        }
      }

      function saveFavRecipe() {
        const title = recipeTitle.textContent;
        if (!title || title.startsWith('Hasil')) {
          alert('Tidak ada resep untuk disimpan.');
          return;
        }
        const favs = getFavs();
        favs.push({ title, ingredients: ingredientsInput.value, generatedAt: new Date().toISOString() });
        localStorage.setItem('dapurai_favs', JSON.stringify(favs));
        alert('Resep tersimpan di koleksi!');
      }

      saveFav.addEventListener('click', saveFavRecipe);

      ingredientsInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') generateBtn.click();
      });

      // Event listener untuk form ulasan
      reviewForm.addEventListener('submit', handleReviewSubmit);

      // Tampilkan ulasan saat halaman dimuat
      document.addEventListener('DOMContentLoaded', displayReviews);

      document.querySelectorAll('button,input,select').forEach((el) => el.addEventListener('focus', () => (el.style.outline = '2px solid rgba(248, 88, 168, 0.2)')));
    </script>
  </body>
</html>
